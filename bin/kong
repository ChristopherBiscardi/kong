#!/usr/bin/env lua

local utils = require "kong.cmd.utils"
local infos = utils.get_infos()
local help_message = string.format([[

Usage: kong <command>

where <command> is one of:
  start, stop, config, db, version

kong --help            print this message
kong <command> --help  print the help message of a command

%s@%s]], infos.name, infos.version)

local cmd = arg[1]

if not cmd or cmd == "-h" or cmd == "--help" then
  print(help_message)
  os.exit(0)
end

-- TODO: test if command exists
require("kong.cmd."..cmd)
